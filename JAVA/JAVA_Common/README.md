# JAVA 기본

## 데이터 타입
데이터 타입은 메모리의 크기와 메모리의 형태를 지정하기 위한 도구로 변수를 만들 수 있고 변수를 통해 메모리를 생성하게 한다.

## 클래스
클래스는 데이터 타입 생성기로, 클래스로 만든 데이터 타입으로 변수를 만들 수 있다.

또한, 클래스는 변수와 메소드로 되어 있고 클래스로 만든 새로운 데이터 타입을 이용해서 변수를 생성하면 그 변수는 참조 변수라고 한다.


## JAVA 동작 원리
출처 : https://longbeom.tistory.com/15 [참조]

### JVM 이란
Java Virtual Machine (자바 가상 머신)의 약자로 자바와 OS 사이에서 중개해주는 역할을 하여,

애플리케이션이 운영체제에 독립적으로 수행할 수 있게 해준다.

또한 메모리 관리, Garbage Collection 등을 수행한다.

### JVM 구성 요소

Class Loader

JVM 내로 클래스 파일을 load하고 link를 통해 배치를 수행하는 모듈로 Runtime 시에 동적으로 클래스를 로드한다. 
자바는 동적 코드, 컴파일 타임이 아니라 런타임에 참조한다.
즉, 클래스를 처음으로 참조할 때 해당 클래스를 load하고 link한다.

Execution Engine

class loader를 통해 배치된 클래스를 실행시킨다.
클래스 파일(바이트 코드)은 비교적 인간이 보기 쉬운 형태이기 때문에 기계가 실행할 수 있는 형태로 변경시키는데
이 때, 두 가지 방식을 사용한다. ( 인터프리터, JIT )

Interpreter

실행 엔진은 바이트 코드를 명령어 단위로 실행한다.
이는 한 줄 씩 수행하기 때문에 느리다는 단점을 가지고 있다.

JIT (Just In Time) Compiler

Interpreter 방식의 단점을 보완하기 위해 도입된 방식으로,
Interpreter 방식으로 실행하다가 적절한 시점에 바이트 코드 전체를 컴파일 하여 네이티브 코드로 변경하고,
더 이상 Interpreting 하지 않고 네이티브 코드로 직접 실행하는 방식이다.
네이티브 코드는 캐시에 보관되기 때문에 한 번 컴파일된 코드는 빠르게 실행할 수 있다.
물론 한 번만 실행되는 코드라면 JIT 보다 Interpreter 방식이 유리하다.
따라서 JVM은 해당 메소드가 얼마나 자주 수행되는지 체크하고, 일정 정도를 넘을 때 컴파일을 수행한다.

Garbage Collector

동적으로 할당된 메모리 중 사용되지 않는 메모리를 반환한다.
실행 시기는 JVM이 OS에 메모리를 추가적으로 요청했을 때 실행되고,
24시간 내내 돌아가는 서버 프로그램의 경우, JVM이 한가한 시점에 실행된다.

### 프로그램 실행 과정
1. 프로그램 실행
2. JVM이 OS로 부터 메모리를 할당 받고, 용도에 따라 나누어 관리
3. 자바 컴파일러(javac)가 소스 코드(*.java)를 읽어 바이트 코드로 변환(*.class)
4. JVM의 Class Loader가 변환된 파일(*.class)들을 로드
5. Execution engine(실행 엔진) 은 로딩된 class 파일을 해석
6. 해석된 파일들은 Runtime Data Area(할당 메모리)에 배치되고 실질적 수행이 이루어짐
- 프로그램이 실행되면, JVM은 OS로 부터 프로그램을 수행하는데 필요한 메모리를 할당 받고,
  JVM은 메모리를 용도에 따라 여러 영역으로 나누어 관리

### JVM 메모리 영역

1. Method Area (메소드 영역)

프로그램 실행 후, 어떤 클래스가 사용 되면 JVM은 해당 클래스의 클래스 파일(*.class)을 읽고 분석하여
클래스에 대한 정보들을 이곳에 저장한다. 이 때, 해당 클래스의 클래스 변수도 함께 저장된다.

2. Call Stack 또는 Execution Stack (호출 스택)

메소드 작업에 필요한 메모리 공간을 제공한다.
메소드가 호출되면, 호출 스택에 메소드를 위한 메모리가 할당되며 메소드가 작업을 마치면 반환되어 비워진다.
제일 위에 있는 메소드가 현재 실행 중인 메소드이고, 바로 아래의 메소드가 위의 메소드를 호출한 메소드이다.

3. Heap

프로그램 실행 후, 생성 되는 모든 인스턴스가 이곳에 생성된다. 즉, 인스턴스 변수들이 생성되는 공간
